(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[338],{1047:function(t,e,o){"use strict";o.r(e);var n=o(4),s=o.n(n),n=o(10),i=o.n(n),n=o(37),r=o.n(n),n=o(38),a=o.n(n),n=o(134),p=o.n(n),n=o(39),l=o.n(n),n=o(40),c=o.n(n),n=o(27),u=o.n(n),n=o(0),h=o.n(n),d=o(1107),g=o(14),m=o(5),y=o(338),f=o(408);function w(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function I(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach(function(t){s()(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function k(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u()(o);return t=n?(t=u()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),c()(this,t)}}o=function(t){l()(n,t);var o=k(n);function n(t){var e;return r()(this,n),(e=o.call(this,t)).state={openForm:t.openForm,regFormId:t.regFormId,loader:!1,formData:{formType:null,headerIcons:null,registrationOptions:null,registrationOptionsDetails:null},secondRegistrationPage:!1,params:{fullName:null,medium:null,type:null,context:null,emailId:null},secondPageParams:null,email:null,name:null},e.getSignUpForm=e.getSignUpForm.bind(p()(e)),e.closeLayer=e.closeLayer.bind(p()(e)),e.onLoginClick=e.onLoginClick.bind(p()(e)),e.incompleteCallBack=e.incompleteCallBack.bind(p()(e)),e.onRegistration=e.onRegistration.bind(p()(e)),e.trackResponseEvent=e.trackResponseEvent.bind(p()(e)),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this;this.getSignUpForm(),document.getElementById(this.state.regFormId+"_globalRegistrationWrapper").scrollTop=0,window.addEventListener("keyup",function(t){13===t.keyCode&&(t.preventDefault(),document.getElementById(e.state.regFormId+"_submitButton"))})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("keyup",function(t){13===t.keyCode&&(t.preventDefault(),document.getElementById(e.state.regFormId+"_submitButton"))})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){null!=t.regFormId&&this.setState({regFormId:t.regFormId})}},{key:"render",value:function(){var t=!0;return null!=this.state.formData&&null!=this.state.formData.registrationOptions&&1==this.state.formData.registrationOptions.length&&"email"==this.state.formData.registrationOptions[0]&&(t=!1),null==this.state.formData?null:h.a.createElement(h.a.Fragment,null,this.state.openForm&&h.a.createElement(d.a,{showRolOnTCReject:this.props.showRolOnTCReject,isPrompt:this.props.isPrompt,isNonPWA:this.props.isNonPWA,showTruecallerLayer:this.props.showTruecallerLayer,onTruecallerAction:this.props.onTruecallerAction,showTimerBasedTruecallerSignup:this.props.showTimerBasedTruecallerSignup,setOverlayLoadingData:this.props.setOverlayLoadingData,contributor:this.props.contributor,secondPageParams:this.state.secondPageParams,rolContentData:this.state.formData.rolContentData,trackingKeyId:this.props.trackingKeyId,formType:this.state.formData.formType,context:this.props.context,secondRegistrationPage:this.state.secondRegistrationPage,params:this.state.params,email:this.state.email,name:this.state.name,incompleteCallBack:this.incompleteCallBack,onClose:this.closeLayer,onLoginClick:this.onLoginClick,type:"signup",headerIcons:this.state.formData.headerIcons,registrationOptions:this.state.formData.registrationOptions,registrationOptionsDetails:this.state.formData.registrationOptionsDetails,regFormId:this.state.regFormId,onRegistration:this.onRegistration,isIndian:t,entityType:this.props.entityType,headerTextEntityValue:this.state.formData.headerTextEntityValue,heading:this.state.formData.heading,subHeading:this.state.formData.subHeading,showCloseIcon:this.props.showCloseIcon,showLoginLink:this.props.showLoginLink,shiksAuth:this.state.formData.shiksAuth,buttonText:this.state.formData.buttonText,rolScroll:this.props.rolScroll,customGACategory:this.props.customGACategory,showMSL:this.props.showMSL,isSOUser:this.props.isSOUser,extraData:this.props.extraData}))}},{key:"closeLayer",value:function(){1==this.state.secondRegistrationPage?this.trackResponseEvent(this.props.trackingKeyId,"FB_Followup_EmailPage_Close_Link"):this.props.isRol?this.trackResponseEvent(this.props.trackingKeyId,"Close_Link",this.props.isRol):this.trackResponseEvent(this.props.trackingKeyId,"Close_Link"),this.props.onClose(),this.setState({openForm:!1})}},{key:"onLoginClick",value:function(){this.props.onLoginClick(),this.trackResponseEvent(this.props.trackingKeyId,"Login_Link")}},{key:"getSignUpForm",value:function(){var t,e=this,o={},n=("mmp"==this.props.context&&null!=this.props.mmpPageId&&null!=this.props.mmpPageId?(o.context=this.props.context,o.formType="signup",o.mmpPageId=this.props.mmpPageId,o.entityId=this.props.mmpPageId):null==this.props.entityId||null==this.props.entityId?(o.context=this.props.context,o.formType="signup"):(o.context=this.props.context,o.formType="signup",o.entityId=this.props.entityId,o.entityType=this.props.entityType,null!=this.props.dependentListingTypeId&&null!=this.props.dependentListingTypeId&&(o.dependentListingTypeId=this.props.dependentListingTypeId),o.responseActionType=this.props.responseActionType),null!=(t=window)&&null!=(t=t.pageContext)&&t.pageIdentifier&&(o.pageId=window.pageContext.pageIdentifier,o.childPageId=null==(t=window.pageContext.extraData)?void 0:t.childPageIdentifier),this.props.trackingKeyId&&(o.trackingKeyId=this.props.trackingKeyId),o);o.version=f.c,this.props.isSOUser&&(o.isSOUser=this.props.isSOUser),o=JSON.stringify(o),o="data="+(o=btoa(o)),this.setState({loader:!0}),document.getElementById("newLoader").style.display="initial",Object(y.p)(o).then(function(t){e.setState({formData:t,secondPageParams:n,loader:!1}),null!=t&&(e.props.isRol?e.trackResponseEvent(e.props.trackingKeyId,"Load_Successful",e.props.isRol):e.trackResponseEvent(e.props.trackingKeyId,"Load_Successful")),document.getElementById("newLoader").style.display="none",null!=t&&t.rolContentData&&"function"==typeof e.props.setShowNewLogo?e.props.setShowNewLogo(!0):e.props.setShowNewLogo(!1)})}},{key:"incompleteCallBack",value:function(t,e,o){this.setState({email:t,name:e,params:o,secondRegistrationPage:!0})}},{key:"onRegistration",value:function(t){"function"==typeof this.props.onRegistration&&null!=i()(this.props.onRegistration)&&this.props.onRegistration(t)}},{key:"closeResponseLayer",value:function(t){null!=this.props.onClose&&"function"==typeof this.props.onClose&&this.props.onClose(),this.setState(I(I({},this.state),{},{openResponseForm:!1,isNewUser:!1}))}},{key:"trackResponseEvent",value:function(t,e,o){var n,s="",i=(r=null!=this.props.entityId&&null!=this.props.entityId?"Responses Registrations":"Sign Up Registrations",window&&null!=window.isResponse&&"response"==window.isResponse&&(r="Response Capture Profile Details"),window&&null!=window.isMMP&&"mmp"==window.isMMP&&(r="MMP Registrations"),n=window&&window.pageContext&&null!=window.pageContext.pageIdentifier?window.pageContext.pageIdentifier:"iframeRegistrationForm",window.mobileApp),r="Layer_"+r+"_"+n,s=(this.props.customGACategory&&(r="Layer_"+this.props.customGACategory),""!=Object(m.P)("ci_mobile")&&null!=Object(m.P)("ci_mobile")?"MS_":"PC_");s=(s=1==i?"App_":s)+"ROL1_"+e,null!=o?g.a.event({category:r,action:t,label:s,nonInteraction:!0}):g.a.event({category:r,action:t,label:s})}}]),n}(n.Component);(e.default=o).defaultProps={rolScroll:!1}}}]);